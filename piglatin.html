<!DOCTYPE html>
<html>
<head>
	<title>Pig Latin</title>
</head>
<body>
	<h1>Pig latin translator</h1>
	<textarea id="piggified">Pig Latin</textarea>
	<script type="text/javascript">
		function myFunction() {
			var pig = document.getElementById("piggified").value;
			if (pig.length < 2) {
				alert(pig + " is not enough letters");
			} else {
				function latinMe(pigs){
					var i = 0;
					while (pigs[i].charAt(0).toLowerCase() !== "a" && pigs[i].charAt(0).toLowerCase() !== "e" && pigs[i].charAt(0).toLowerCase() !== "i" && pigs[i].charAt(0).toLowerCase() !== "o" && pigs[i].charAt(0).toLowerCase() !== "u") {
						i+=1;
						console.log(pigs + " during")
						console.log(i + " i")
					};
					console.log(pigs.slice(i) + pigs.slice(0,i))
					return(pigs.slice(i) + pigs.slice(0,i))
				}
				var punctuation = pig.indexOf(",")
				if (punctuation > 0){
					pig = pig.slice(0,punctuation) + pig.slice(punctuation + 1)
					console.log(pig + " pig")
				}
				console.log(punctuation + " is index of punctuation")
				var piggies = pig.split(" ")
				var capitalize = 0
				if ((piggies[0].charAt(0)) === (piggies[0].charAt(0).toUpperCase())) {
					capitalize = 1
				} else {
					capitalize = 0
				}
				console.log(piggies)

				console.log(piggies + " before")


				f = piggies.map(latinMe)
				console.log(f + " after")
				// Rearranges letters within given input
				g = (f.join("ay ") + "ay")
				console.log(g)
				// adds "ay" to each word
				if (punctuation > 0) {
					h = g.slice(0,punctuation+2) + "," + g.slice(punctuation+2)
				} else {
					h = g
				}
				if (capitalize === 1) {
					var pigFinal = h.charAt(0).toUpperCase() + h.slice(1).toLowerCase()
				} else {
					var pigFinal = h
				}

				alert(pigFinal)
			}

		}


	</script>
	<button onclick="myFunction()">anslateTray otay igpay atinlay </button>
	<p id="pigged"></p>
</body>
</html>
